Tag Ranking‚àó

Dong Liu

School of Computer Sci.& Tec.
Harbin Institute of Technology

Harbin, 150001, P.R.China

dongliu@hit.edu.cn

Xian-Sheng Hua

Microsoft Research Asia

49 Zhichun Road

Beijing, 100190, P.R.China
xshua@microsoft.com

Linjun Yang

Microsoft Research Asia

49 Zhichun Road

Beijing, 100190, P.R.China
linjuny@microsoft.com

Meng Wang

Hong-Jiang Zhang

Microsoft Research Asia

Microsoft Adv. Tech. Center

49 Zhichun Road

49 Zhichun Road

Beijing, 100190, P.R.China

mengwang@microsoft.com

Beijing, 100190, P.R.China
hjzhang@microsoft.com

ABSTRACT
Social media sharing web sites like Flickr allow users to an-
notate images with free tags, which signiÔ¨Åcantly facilitate
Web image search and organization. However, the tags as-
sociated with an image generally are in a random order with-
out any importance or relevance information, which limits
the eÔ¨Äectiveness of these tags in search and other applica-
tions. In this paper, we propose a tag ranking scheme, aim-
ing to automatically rank the tags associated with a given
image according to their relevance to the image content.
We Ô¨Årst estimate initial relevance scores for the tags based
on probability density estimation, and then perform a ran-
dom walk over a tag similarity graph to reÔ¨Åne the relevance
scores. Experimental results on a 50, 000 Flickr photo col-
lection show that the proposed tag ranking method is both
eÔ¨Äective and eÔ¨Écient. We also apply tag ranking into three
applications: (1) tag-based image search, (2) tag recommen-
dation, and (3) group recommendation, which demonstrates
that the proposed tag ranking approach really boosts the
performances of social-tagging related applications.

Categories and Subject Descriptors
H.3.1 [Information Storage and Retrieval]: Content
Analysis and Indexing

General Terms
Algorithms, Experimentation, Performance

Keywords
Flickr, tag ranking, random walk, recommendation, search

1.

INTRODUCTION

Recent years have witnessed an explosion of community-
contributed multimedia content available online (e.g. Flickr,
Youtube, and Zooomr). Such social media repositories allow
users to upload personal media data and annotate content
‚àóThis work was performed at Microsoft Research Asia.

Copyright is held by the International World Wide Web Conference Com-
mittee (IW3C2). Distribution of these papers is limited to classroom use,
and personal use by others.
WWW 2009, April 20‚Äì24, 2009, Madrid, Spain.
ACM 978-1-60558-487-4/09/04.


 
!
"
#
$
%
&
'


 
!
"
#
$

alex 
meditating 
love 
winter 
dog 
golden retriever 
zen 
calm 
perfect 
1-5-fav 
5-10-fav 
top_v111 
100v 10f 
top20dogpix 
top_f25 
25-0-fav 

Figure 1: An exemplary image from Flickr and its
associated tag list. There are many imprecise and
meaningless tags in the list and the most relevant
tag ‚Äúdog‚Äù is not at the top positions.

with descriptive keywords called tags. With the rich tags as
metadata, users can more conveniently organize and access
shared media content.

We take Flickr [1], one of the earliest and most popular
social media sharing web sites, as an example to study the
characteristics of these user-created tags. As pointed out
in [2] , the principal purpose of tagging is to make Flickr
photos better accessible to the public. However, existing
studies reveal that many tags provided by Flickr users are
imprecise and there are only around 50% tags actually re-
lated to the image [3]. Furthermore, the importance or rele-
vance levels of the tags cannot be distinguished from current
tag list, where the order is just according to the input se-
quence and carries little information about the importance
or relevance. Fig. 1 is an exemplary image from Flickr, from
which we can see that the most relevant (or descriptive) tag
is actually ‚Äúdog‚Äù, but this cannot be discovered from the tag
list directly.

Fig. 2 shows the position (in terms of the tag list) distribu-
tion of the most important tags. It is generated from 1, 200
random Flickr images with at least 10 tags. For each image,
its most relevant tag from the list is labeled based on the
majority voting of Ô¨Åve volunteers. As can be seen, only less
than 10% of the images have their most relevant tag at the
top position in their attached tag list. This illustrates that

WWW 2009 MADRID!Track: Rich Media / Session: Tagging and Clustering351the tags are almost in a random order in terms of relevance
to the associated image1.

)

%
(
e
g
a
t
n
e
c
r
e
P

12

10

8

6

4

2

0

island bay coast sea
water ocean nature
bird flight

quiet place bird
sunrise tree morning
calming Twigs Chair

Horse falcon Animals
nature wildlife bird

Eagle owl face bird
prey

1st 2nd 3rd 4th 5th 6th 7th 8th 9th 10th

Position of Most Relevant Tag

sunset bird ave silueta
clouds people

full moon canon a430
bird night

chuchogm bird blue
Museum nature

Fire Phoenix Myth
Bird Rise Ashes

Figure 2: Percentage of images that have their most
relevant tag at the n-th position in the associated
tag list, where n = 1, 2, 3 . . . , 10.

The lack of relevance information in the tag list has sig-
niÔ¨Åcantly limited the application of tags. For example, in
Flickr tag-based image search service2 , currently it cannot
provide the option of ranking the tagged images according
to relevance level to the query3. However, relevance ranking
is important for image search, and all of the popular image
search engines, like Google and Live, rank the search results
by relevance. Fig. 3 shows the search result for the query
‚Äúbird‚Äù ranking by ‚Äúinterestingness‚Äù. We can observe that al-
most half of these images are actually irrelevant or weakly
relevant to the query ‚Äúbird‚Äù. As can be seen, although ‚Äúbird‚Äù
has been tagged to these weakly relevant images, it is not
the most relevant one compared with other tags. Meanwhile,
for the highly relevant results, ‚Äúbird‚Äù is indeed the most rel-
evant tag. If we can rank the associated tags for each image
based on the relevance level, then a better ranking for the
tag based image search can be obtained(see Figure 14).

Besides the application of tag ranking into tag-based im-
age search,
it can also be used in many of other social-
tagging related services, including tag recommendation and
Flickr group recommendation.

1It is worth mentioning that most of the tags tend to appear
in the Ô¨Årst 10 positions though they are nearly randomly dis-
tributed. For example, a Flickr image has more than 10 tags
in average, but according to Fig. 2 we can see that 70% of
the images have their most relevant tags at the Ô¨Årst 10 posi-
tions. This indicates that there is still a trend that top tags
are more relevant, although the trend is weak. Actually it
is easy to understand that there will be certain correlation
between the input sequence and the relevance levels of tags,
since this coincides with most users‚Äô habit. But the cor-
relation is not strong, and in experiments we will take the
original tag lists as baseline to show that our tag ranking
approach provides a much better order .
2http://www.Ô¨Çickr.com/search/?q=cat&m=tags
3Currently Flickr oÔ¨Äers two options in the ranking for
tag-based image search. One is ‚Äúmost recent‚Äù, which
ranks the most recently uploaded images on the top
and the other is ‚Äúmost interesting‚Äù, which ranks the im-
ages by ‚Äúinterestingness‚Äù, a measure that takes click-
through,
stated in
http://www.Ô¨Çickr.com/explore/interesting.

into account, as

comments,

etc,

bravo explore bird
landscape sky clouds

Bird Birding Waxwing
Nature Wildlife

Geese Flock Flight
Nature Animals Bird

egret sundowner
nature park wildlife
bird

Figure 3: Search results of query ‚Äúbird‚Äù in Flickr,
which are ordered by ‚Äúinterestingness‚Äù. For each
image, only top tags are displayed due to space limit.

‚Ä¢ Image tag recommendation. Tag recommendation is
to recommend a set of tags for one image based on
existing tags so that users only need to select the rele-
vant tags, instead of to type the tags manually. If the
tags have been ranked according to their relevance to
the image, a better recommendation can be obtained.
For example, for each uploaded image, we can Ô¨Årstly
Ô¨Ånd the K nearest neighbors based on low-level vi-
sual features, and then the top ranked tags of the K
neighboring images are collected and recommended to
the user. We will show that this method can achieve
highly satisfactory recommendations, even better than
the tags input by Flickr users.

‚Ä¢ Flickr group recommendation. Flickr group is a collec-
tion of images created by users with certain common
interest. If tags are ranked appropriately, for each up-
loaded image, we use the top tags in its ranked tag
list to search for related Flickr groups and recommend
to users. Experiments will show this method is able
to recommend more suitable groups to users and this
process is totally automatic without any user interac-
tion.

Though important, tag ranking, has not been studied in
information retrieval and multimedia societies, as we have
conducted in webpage/image/video ranking [4, 5]. As to our
best knowledge, this is the Ô¨Årst study to this problem.

In this paper we propose a tag ranking approach in which
the tags of an image can be automatically ranked accord-
ing to their relevance with the image. To accomplish the

WWW 2009 MADRID!Track: Rich Media / Session: Tagging and Clustering352flower tree bird sky

S(bird)

S(tree)

bird

tree

flower

sky

S(flower)

S(sky)

Exemplar Similarity

Concurrence Similarity

(1) bird (0.36)
(2) flower (0.28)
(3) sky (0.21)
(4) tree (0.15)

Figure 4: The illustrative scheme of the tag ranking approach. A probabilistic method is Ô¨Årst adopted to
estimate tag relevance score. Then a random walk-based reÔ¨Ånement is performed along the tag graph to
further boost tag ranking performance.

ranking, we Ô¨Årst adopt a probabilistic approach to estimate
the initial relevance score of each tag for one image indi-
vidually, and then reÔ¨Åne the relevance scores by implement-
ing a random walk process over a tag graph in order to
mine the correlation of the tags. In the construction of tag
graphs, we have combined an exemplar-based approach and
a concurrence-based approach to estimate the relationship
among tags. The whole process is automatic and do not
need any manually labeled training data. Experimental re-
sults demonstrate that the proposed scheme is able to rank
Flickr image tags according to their relevance levels.

The rest of this paper is organized as follows. We describe
the tag ranking scheme in Section 2 and provide empirical
justiÔ¨Åcations in Section 3.
In Section 4, we introduce the
three application scenarios and the associated experimen-
tal results. Then we introduce related work in Section 5.
Finally, we conclude the paper in Section 6.

2. TAG RANKING

In this section, we will introduce our tag ranking method.
We Ô¨Årstly give an overview of our tag ranking approach, and
then introduce the probabilistic relevance score estimation
and random walk-based reÔ¨Ånement in detail.

2.1 Overview

As illustrated in Fig. 4, the tag ranking scheme mainly
consists of two steps: initial probabilistic tag relevance esti-
mation and random walk reÔ¨Ånement. Given an image and
its associated tags, we Ô¨Årst estimate the relevance score of
each tag individually through a probabilistic approach. We
will simultaneously consider the probability of the tag given
the image and the descriptive ability of the tag in the rele-
vance score estimation, and we show that it can be accom-
plished by using the Kernel Density Estimation (KDE) [15].
Although the scores obtained in this way reÔ¨Çect the tag rele-
vance, the relationships among tags have not been taken into
account. Thus we further perform a random walk-based re-
Ô¨Ånement to boost tag ranking performance by exploring the
relationship of tags. Finally, the tags of the image can be
ranked according to their reÔ¨Åned relevance scores.
In the
next two sub-sections, we will detail the probabilistic rele-
vance score estimation method and the random walk-based
reÔ¨Ånement process, respectively.

2.2 Probabilistic Tag Relevance Estimation

First, we estimate the relevance scores of the tags from
the probabilistic point of view. Given a tag t, its relevance
score to an image x is deÔ¨Åned as

s(t, x) = p(t|x)/p(t)

(1)

Now we will explain the rationality of Eq. 1. In fact, the
most straightforward way is to directly regard p(t|x) as the
relevance score, since it indicates the probability of tag t
given image x. However, the tag may not be so descriptive
when it appears too frequently in the dataset. For example,
for the tag ‚Äúimage‚Äù, the probability p(t|x) will be always
1, but obviously this tag is non-informative. Therefore, we
normalize p(t|x) by p(t), i.e., the prior probability of the tag,
to penalize frequently-appearing tags. This principle has
actually been widely investigated in information retrieval,
e.g., in the design of tf -idf features [16].

Based on Bayes‚Äô rule, we can easily derive that

s(t, x) =

p(x|t)p(t)
p(x)p(t)

=

p(x|t)
p(x)

(2)

where p(x) and p(x|t) are the prior probability density func-
tion and the probability density function of images condi-
tioned on the tag t, respectively. Since the target is to rank
the tags for the individual image and p(x) is identical for
these tags, we can simply redeÔ¨Åne Eq. 2 as

s(t, x)

.
= p(x|t)

(3)

We adopt the classical Kernel Density Estimation (KDE)
method to estimate the probability density function p(x|t).
Denote by Xi the set of images that contain tag ti, the KDE
approach measures p(x|ti) as

s(ti, x) = p(x|ti) =

1
|Xi| X

xk ‚ààXi

KœÉ(x ‚àí xk)

(4)

where |Xi| is the cardinality of Xi and KœÉ is the Gaussian
kernel function with the radius parameter œÉ, i.e.,

KœÉ(x ‚àí xk) = exp(‚àí

||x ‚àí xk||2

œÉ2

)

(5)

The relevance score computed in Eq. 4 actually has a very
intuitive explanation. For each image x, the neighbors Xi

can be regarded as its friends. The sum of the similarities es-
timated based on Gaussian kernel function can be regarded
as the soft voting from the friends. Therefore, such relevance
is actually estimated based on ‚Äúcollective intelligence‚Äù from
friend images.

image will reduce noise and lead to better tag representative
collection.

Denote by Œìt the representative image collection of tag
t. Then the exemplar similarity between tags ti and tj is
deÔ¨Åned as follows

2.3 Random Walk-Based ReÔ¨Ånement

The probabilistic tag relevance estimation, which takes
the image ‚Äúfriends‚Äù into consideration, has not taken into
account the relationship among tags which will be helpful.
For example, consider the image which has a lot of closely
related tags, such as ‚Äúcat‚Äù, ‚Äúanimal‚Äù and ‚Äúkitten‚Äù, and an
isolated tag such as ‚ÄúNikon‚Äù. In this case, intuitively we can
infer that the isolated tag ‚ÄúNikon‚Äù is less descriptive than
the others.

To investigate the relationship between tags, we perform
random walk over the tag graph for each image to propagate
the relevance scores among tags. The nodes of the graph
are the tags of the image and the edges are weighted with
pairwise tag similarity. Here we propose two tag similar-
ity measurements, i.e., exemplar similarity and concurrence
similarity, and combine them in the tag graph construction.

2.3.1 Tag graph construction

We estimate the tag exemplar similarity and concurrence
similarity and then combine them to form the weights of tag
graph edges.

apple

Figure 5: The images containing tag ‚Äúapple‚Äù are di-
versiÔ¨Åed and only using nearest neighbors of the cen-
tral image will help produce better representative
exemplars.

We Ô¨Årst estimate tag exemplar similarity from visual clue.
For a tag t associated with an image x, we collect the N near-
est neighbors from the images containing tag t, and these
images are regarded as the exemplars of the tag t with re-
spect to x (more exactly, the images are the local exemplars
of the tag since we have only used the neighbors of image
x). The purpose of adopting nearest neighbor strategy here
is to avoid noise introduced by polysemy. Take the central
image in Fig. 5 as an example. The images in Fig. 5 are all
with tag ‚Äúapple‚Äù and we can see that they are highly diversi-
Ô¨Åed. But actually the tag ‚Äúapple‚Äù of the central image only
indicates a fruit. So, only using the neighbors of this central

œïe(ti, tj) = exp(‚àí

1

N ‚àó N

Œ£x‚ààŒìti

,y‚ààŒìtj

||x ‚àí y||2

œÉ2

)

(6)

Note that here we have used the same radius parameter œÉ
as in Eq. 5. The whole process can be illustrated in Fig. 6.
We then deÔ¨Åne the concurrence similarity between tags
based on their co-occurrence. Analogous to the principle of
Google distance [17], we Ô¨Årst estimate the distance between
two tags ti and tj as follows.

d(ti, tj) =

max(logf (ti), logf (tj)) ‚àí logf (ti, tj)

logG ‚àí min(logf (ti), logf (tj)))

(7)

where f (ti) and f (tj) are the numbers of images containing
tag ti and tag tj respectively and f (ti, tj) is the number
of images containing both ti and tj. These numbers can be
obtained by performing search by tag on Flickr website using
the tags as keywords, as illustrated in Fig. 7. Moreover, G
is the total number of images in Flickr. The concurrence
similarity between tag ti and tag tj is then deÔ¨Åned as

œïc(ti, tj) = exp(‚àíd(ti, tj))

(8)

To explore the complementary nature of exemplar similarity
and concurrence similarity, we combine them as

sij = s(ti, tj) = Œª ¬∑ œïe(ti, tj) + (1 ‚àí Œª) ¬∑ œïc(ti, tj)

(9)

where Œª belongs to [0, 1]. In Section 3 we will demonstrate
that their combination is better than using each one indi-
vidually. The combined similarity is used as the weight of
the edge between ti and tj in the tag graph.

2.3.2 Random walk over tag graph

Random walk methods have been widely applied in ma-
chine learning and information retrieval Ô¨Åelds [18, 19, 20].
Here we perform random walk process over the tag graph in
order to boost the performance of tag ranking by using the
relationship among tags. Given a tag graph with n nodes,
we use rk(i) to denote the relevance score of node i at iter-
ation k. Thus, the relevance scores of all the nodes in the
graph at iteration k form a column vector rk ‚â° [rk(i)]n√ó1.
Denote by P an n-by-n transition matrix. Its element pij
indicates the probability of the transition from node i to
node j and it is computed as

pij =

sij

Pk sik

(10)

where sij denotes the pairwise tag similarity(see Eq. 9) be-
tween node i and j.

The random walk process is thus formulated as

rk(j) = Œ± X

i

rk‚àí1(i)pij + (1 ‚àí Œ±)vj

(11)

where vj is the initial probabilistic relevance score of tag
tj, and Œ± is a weight parameter that belongs to (0, 1). The
above process will promote the tags that have many close
neighbors and weaken isolated tags. Now we prove the con-
vergence of the iteration of Eq. 11.

Theorem 1. The iteration of Eq. 11 converges to a Ô¨Åxed

point rœÄ.

WWW 2009 MADRID!Track: Rich Media / Session: Tagging and Clustering354Exemplar Search

coast

Exemplar Search
sea

sky

sky, sea

sea

Exemplar Search

sky

Exemplar Search

beach

exemplar similarity

S
e
a
r
c
h

E
x
e
m
p

l
a
r

cloud

Flickr

sky,sea

sky

sea

f

(

s

k

y

)

f
(
s
k
y
,
s
e
a
)

f(s
e
a)

Concurrence Similarity

Figure 6: The exemplar similarity between tags is
computed based on their representative image col-
lections.

Figure 7: The concurrence similarity between two
tags is estimated based on their concurrence infor-
mation by performing search on Flickr.

ZKLWH
ELUG
DQLPDO
SKRWR
]RR

2ULJLQDO7DJ/LVW

5HOHYDQFHVFRUH

5DQNHG

/LVW

ZKLWH
ELUG
DQLPDO
SKRWR
]RR

SKRWR
]RR
ELUG
ZKLWH
DQLPDO

ZKLWH

   



ELUG



DQLPDO













 


















5HOHYDQFHVFRUH 5DQNHG

/LVW

ZKLWH
ELUG
DQLPDO
SKRWR
]RR

ELUG
DQLPDO
]RR
ZKLWH
SKRWR

5HOHYDQFHVFRUH 5DQNHG

5HOHYDQFHVFRUH 5DQNHG

ZKLWH
ELUG
DQLPDO
SKRWR
]RR

/LVW

ELUG
DQLPDO
ZKLWH
]RR
SKRWR

ZKLWH
ELUG
DQLPDO
SKRWR
]RR

/LVW

ELUG
DQLPDO
ZKLWH
]RR
SKRWR

5HOHYDQFHVFRUH

5DQNHG

/LVW

¬´¬´

ZKLWH
ELUG
DQLPDO
SKRWR
]RR

ELUG
DQLPDO
ZKLWH
]RR
SKRWR

3UREDELOLVWLFUHOHYDQFHHVWLPDWLRQ

5HILQH5HOHYDQFH6FRUHDORQJ7DJ*UDSK

&RQYHUJHQFH

SKRWR



]RR

VW,WHUDWLRQ

QG,WHUDWLRQ

UG,WHUDWLRQ

Figure 8: An example of random walk-based relevance reÔ¨Ånement process.

Proof. We re-write Eq. 11 in matrix form

rk = Œ±Prk‚àí1 + (1 ‚àí Œ±)v

(12)

and thus we have

rœÄ = lim
n‚Üí‚àû

(Œ±P)nr0 + (1 ‚àí Œ±)(

X

(Œ±P)i‚àí1)v.

(13)

n

i=1

Fig. 8 illustrates an example, from which we can see that
how the random walk process improves the original proba-
bilistic relevance scores. Despite tag ranking result obtained
from the probabilistic relevance estimation is not satisfac-
tory, the iterations of random walk over tag graph are able
to produce perfect tag ranking result.

Note that transition matrix P has been row normalized to
1. For 0 < Œ± < 1, there exists Œ≥ < 1 ,such that Œ± ‚â§ Œ≥, and
we can derive that
(Œ±P)n

(Œ±P)n‚àí1

ik (Œ±P)kj

X

ij = X

X

j

j

k

= X

(Œ±P)n‚àí1

ik (Œ± X

Pkj)

k

j

= X

(Œ±P)n‚àí1

ik (Œ±)

k

‚â§ X

(Œ±P)n‚àí1

ik (Œ≥)

k
‚â§ Œ≥n

(14)

Thus the row sums of (Œ±P)n converges to zero. Then ac-
cording to Eq. 13 we have

rœÄ = (1 ‚àí Œ±)(I ‚àí Œ±P)‚àí1v

(15)

This is the unique solution.

3. PERFORMANCE EVALUATION

3.1 Experimental Settings

All the experiments in this work are conducted on a dataset
comprising 50, 000 images collected from Flickr. We select
ten most popular tags, including cat, automobile, mountain,
water, sea, bird, tree, sunset, Ô¨Çower and sky, and use them
as query keywords to perform tag-based search with rank-
ing by interestingness option. Then the top 5, 000 images
are collected together with their associated information, in-
cluding tags, uploading time, etc. for each query. We notice
that the collected tags (more than 100, 000 unique tags) in
this way are rather noisy and many of them are misspelling
or meaningless words. Hence, a pre-Ô¨Åltering process is per-
formed for these tags. We match each tag with the entries
in a Wikipedia thesaurus, and only the tags that have a co-
ordinate in Wikipedia are kept. In this way, 13, 330 unique
tags in total are obtained. For each image, we extract 353-
dimensional features, including 225-dimenaional block-wise

color moment features generated from 5-by-5 partition of
the image and a 128-dimensional wavelet texture features.

We use N DCG [21] as the performance evaluation mea-
sure. 10, 000 images are randomly selected from our Flickr
set for labeling by Ô¨Åve persons. For each image, each of its
tags is labeled as one of the Ô¨Åve levels: Most Relevant (score
5), Relevant (score 4), Partially Relevant (score 3), Weakly
Relevant (score 2), and Irrelevant (score 1). Given an image
with ranked tag list t1, t2, . . . , tn, the N DCG is computed
as

Nn = Zn

n

X

i=1

(2r(i) ‚àí 1)/log(1 + i)

(16)

where r(i) is the relevance level of the ith tag and Zn is a
normalization constant that is chosen so that the optimal
ranking‚Äôs N DCG score is 1. After computing the N DCG
measures of each image‚Äôs tag list, we can average them to
obtain an overall performance evaluation of the tag ranking
method. The radius parameter œÉ in Eq. 5 and Eq. 6 is set
to the median value of all pair-wise Euclidean distances be-
tween images, and the parameter N in exemplar similarity
computation in Eq. 6 is empirically set to 50. The param-
eters Œª and Œ± in Eq. 9 and Eq. 12 are set to 0.8 and 0.5
respectively and their sensitivities will be analyzed in detail
in section 3.2.

3.2 Experimental Results

We compare our proposed tag ranking strategy with the

following two methods in terms of average N DCG.

1. Probabilistic Tag Ranking (PTR). In this method, we
use the relevance score obtained in Eq. 4 without im-
plementing random walk among tags;

2. Random Walk-based Tag Ranking (RWTR). We con-
duct random walk along the tag correlation graph with
vi = 1/n, i.e., do not utilize probabilistic relevance es-
timations.

Our proposed approach can be viewed as a combination
of the above two methods. The experimental results are
shown in Fig. 9. We have also computed the N DCG of
the original tag lists as baseline. From the results we can
see that all the three methods can bring better order to the
tags, and the combination method outperforms PTR and
RWTR. Fig. 10 illustrates several exemplary results, from
which we can clearly see the tag ranking lists are better
than the original ones in terms of relevance ordering.

As shown in Fig. 2, only less than 10% of the images have
their most relevant tag at the top position in their attached
tag list. We also illustrate the same histogram for the ranked
tag list, as shown in Fig. 11. We can clearly see that our
tag ranking approach has successfully promoted the most
relevant tags. Nearly 40% images have their most relevant
tags ranked at top.

We then further conduct experiments to analyze the sen-
sitivity of our tag ranking scheme with respect to the two
parameters Œª (see Eq. 9) and Œ± (see Eq. 12). The parameter
Œª is a trade-oÔ¨Ä to balance the contributions of concurrence-
based similarity and exemplar-based similarity in tag graph,
and the parameter Œ± controls the impact of probabilistic rel-
evance scores in the random walk process.

First we simply set Œ± to 0.5 and range Œª from 0 to 1.0.
Fig. 12(a) illustrates the results. From the results we can see

 

G
C
D
N
e
g
a
r
e
v
A

0.9

0.85

0.8

0.75

0.7

0.65

Baseline

PTR

RWTR

Combination

Figure 9: Performance of diÔ¨Äerent tag ranking
strategies. Baseline is the average N DCG of the
original tag lists and the others are average N DCG
values after performing tag ranking with diÔ¨Äerent
methods, where PTR is Probabilistic Tag Ranking,
PWTR is Random Walk-based Tag Ranking, and
the last one is their combination.

that basically setting Œª in (0, 1) is better than setting Œª to
0 or 1 individually. This demonstrates the complementary
nature of the concurrence similarity and exemplar similar-
ity. Interestingly, we Ô¨Ånd that the optimal performance is
achieved when the weighting parameter Œª for exemplar sim-
ilarity is set to 0.8, which conÔ¨Årms the signiÔ¨Åcance of visual
modality for our tag ranking. We then set Œª to 0.8 and range
Œ± from 0 to 1. As can be observed, the performance curve is
smooth when Œ± varies in a wide range [0.3, 0.8]. We can also
see that the result is always better than PTR and RWTR
when Œ± ranges from 0.1 to 0.9. This indicates the robustness
of our approach. According to the results, the optimal val-
ues of Œª and Œ± are around 0.8 and 0.5 respectively, and thus
in the tag ranking-based applications introduced in the next
section we will empirically adopt these settings to generate
tag ranking results.

4. APPLICATIONS

In this section, we introduce three potential application

scenarios of tag ranking:

1. Tag-based image search, in which the image ranking
list is generated based on the given tag‚Äôs position in
these images‚Äô ranked tag lists.

2. Tag recommendation. For a given image, we provide
the most relevant tags of its neighbors as recommen-
dation.

3. Image group recommendation. Given an image, we use
the top tags in the ranked tag list to search for possible
groups for sharing purpose.

4.1 Tag-Based Image Search

As introduced in Section 1, currently Flickr provides two
tag-based image search services that rank images based on
interestingness and uploaded time, respectively. Based on
the tag ranking results, we develop a method to rank search
results based on their relevance, which will be useful in most

WWW 2009 MADRID!Track: Rich Media / Session: Tagging and Clustering3562ULJLQDO7DJ/LVW
EOXHZLQWHUVN\ZKLWHPRXQWDLQVQRZ
SKRWRJUDSK\JROGQLNRQSDUDGLVHYLHZ
WRSJUHHFHGUDPD
5DQNHG7DJ/LVW
PRXQWDLQVN\ZKLWHVQRZZLQWHUEOXH
QLNRQSKRWRJUDSK\YLHZSDUDGLVHJROG
JUHHFHWRSGUDPD

2ULJLQDO7DJ/LVW
RFHDQFLW\VXPPHUEUD]LOSUDLDEHDFK
ZDWHUDUFKLWHFWXUHIDQWDVWLFZDUP
SDUDGLVHGHVHUWJUHDWSOD\DEHVWUHVRUW
DUHQD
5DQNHG7DJ/LVW
EHDFKZDWHURFHDQVXPPHUDUFKLWHFWXUH
IDQWDVWLFSDUDGLVHJUHDWUHVRUWSOD\DFLW\
EUD]LOEHVWGHVHUWSUDLDDUHQDZDUP

2ULJLQDO7DJ/LVW
EOXHSDNLVWDQSRUWUDLWJUHHQELUG
QDWXUH\HOORZJROGSRZHUVKRWNDUDFKL
5DQNHG7DJ/LVW
ELUGQDWXUHEOXHJUHHQ\HOORZSRUWUDLW
JROGSRZHUVKRWSDNLVWDQNDUDFKL

2ULJLQDO7DJ/LVW
SLQNOLJKWZKLWHIORZHUJUHHQQDWXUH
\HOORZVSULQJIORUDJHUEHUD
5DQNHG7DJ/LVW
IORZHUZKLWHSLQNQDWXUHOLJKWJUHHQ
\HOORZVSULQJIORUDJHUEHUD

2ULJLQDO7DJ/LVW
VXQVXQOLJKWDQLPDOFDWNLWWHQNLWW\
JDWDJDWWR
5DQNHG7DJ/LVW
FDWNLWW\NLWWHQDQLPDOVXQOLJKWVXQ
JDWDJDWWR

2ULJLQDO7DJ/LVW
IDPLO\ZHGGLQJIULHQGVVXQVHWUHGVHD
ORYHEHDFKVLOKRXHWWHQLNRQIOLFNUGD\
FRORXUVPDOGLYHV
5DQNHG7DJ/LVW
VXQVHWVHDUHGEHDFKQLNRQVLOKRXHWWH
PDOGLYHVORYHFRORXUVIOLFNUIULHQGV
IDPLO\GD\ZHGGLQJ

2ULJLQDO7DJ/LVW
SDUNPRUQLQJPLVWKROODQGWUHH
ELUGZDWHUIRJGXFNEDXP
5DQNHG7DJ/LVW
WUHHZDWHUELUGIRJSDUNPLVW
PRUQLQJGXFNKROODQGEDXP

2ULJLQDO7DJ/LVW
RFHDQWUDYHOEOXHVHDZDWHU
SKLOLSSLQHVDGYHQWXUH
5DQNHG7DJ/LVW
VHDZDWHURFHDQEOXHWUDYHO
SKLOLSSLQHVDGYHQWXUH

2ULJLQDO7DJ/LVW
IHUUDULFRQFHSWFDUDXWRDXWRPRELOH
5DQNHG7DJ/LVW
DXWRPRELOHFDUDXWRIHUUDULFRQFHSW

Figure 10: Several exemplary tag ranking results.

)

%
(
e
g
a
t
n
e
c
r
e
P

40

35

30

25

20

15

10

5

0

1st

2nd

3rd

4th

5th

Position of the most relevant tag

Figure 11: The percentage of images that have
their most relevant tag appear at n-th position in
the associated tag list after performing tag ranking,
where n = 1, 2, ..., 5.

 

G
C
D
N
e
g
a
r
e
v
A

0.88

0.875

0.87

0.865

0.86

0.855

0.85

0.845

0.84

0

0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0

Lambda

(a)

 

G
C
D
N
e
g
a
r
e
v
A

0.88

0.86

0.84

0.82

0.8

0.78

0.76

0.74

0.72

0.7

0

0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0

Alpha

(b)

Figure 12: The performance curves of our tag rank-
ing method with respect to the parameters Œª and
Œ±.

of the situations when users want to search for information
about a topic.

Given the query tag, we estimate the relevance levels of
images based on the position of the query tag in each image‚Äôs
tag ranking list. Generally, the more advanced position the
query tag is located in an image‚Äôs tag ranking list, the more
relevant the image will be with the query. Fig. 13 illustrates
an example. The query tag ‚Äúdog‚Äù lies at the Ô¨Årst and second
positions in the tag lists of (a) and (b) respectively, and we
can see that obviously (a) is more relevant to the query than
(b).

(a) dog tree

(b) tree dog

Figure 13: The tag positions can be used to identify
the relevance of images with respect to the query.
The query ‚Äúdog‚Äù locates at Ô¨Årst and second position
in (a) and (b) respectively and we can clearly see
that (a) is more relevant than (b) for query ‚Äúdog‚Äù.

Our image ranking method is designed as follows. Given a
query tag q, denote by œÑi the rank position of q in the ranked
tag list of image xi. Since we only consider the images that
contain tag q, we have œÑi > 0. Let ni denote the number of
tags of image xi, we then estimate relevance score for image
xi as

r(xi) = ‚àíœÑi + 1/ni

(17)

The rationality of Eq. 17 lies on the following two facts:

1. If œÑi < œÑj , we will always have r(xi) > r(xj). This
indicates that we assign higher relevance score to the
image that contains the query tag at more advanced
positions in its ranked tag list.

2. If œÑi = œÑj , the relationship is decided by ni and nj. If
ni < nj, we have r(xi) > r(xj). It implies that, if the
positions of the query tag are the same for two images,
then we will prefer to the image that has fewer tags.
This is intuitive since fewer tags indicate the image is
more simple and it is thus with higher probability to
be relevant with the given query tag.

With the ranking scores obtained in Eq. 17, we rank im-
age search results with the scores in descending order. To
evaluate the proposed tag-based search strategy, we con-
duct experiment on the 50, 000 Flickr image collection de-
scribed in section 3.1 and use the 10 tags, i.e., cat, auto-
mobile, mountain, water, sea, bird, tree, sunset, Ô¨Çower and
sky, as query keywords. We use N DCG as the perfor-
mance evaluation measure. Each image is labeled as one
of four levels: Most Relevant (score 4), Relevant (score 3),
Weakly Relevant (score 2) and Irrelevant (score 1). We
compare our method with the following three methods: (1)

Original(Baseline)
Recommendation
Improvement(%)

Prec@1 Prec@5 Prec@all
0.5858
0.7255

0.4980
0.5799

0.4980
0.5772

23.9

16.5

15.9

Table 1: Performance of tag recommendation

Recommended Tags:
water sky blue snow
beauty landscape
nature sea earth
storm mountain cloud
sunset light river

Recommended Tags:
flower plant
flor red rose tree
color

Recommended Tags:
sunset yellow red
tree texture sunrise
hill

Recommended Tags:
cat architecture tiger
wildlife white
sunlight mountain
animal sunset bird
eye yellow

Recommended Tags:
bird flower water
green

Recommended Tags:
sea mountain sky
water blue beach
landscape

Recommended Tags:
mountain sky
landscape nature tree

Recommended Tags:
nature green forest
tree water mountain

Figure 16: Tag recommendation example.

we Ô¨Årst Ô¨Ånd its K nearest neighbors from the image dataset.
Then we collect the top m tags of each neighboring image
according to its tag ranking list. As a result, m √ó K tags
are collected in total. The unique tags in the collection are
then recommended to the users, sorted according to the oc-
currence frequency in the collection.

To demonstrate the eÔ¨Äectiveness of the tag recommen-
dation method, we randomly select 500 images from Flickr
collection to perform tag recommendation. We set m = 2
and K = 10 empirically. We also invite people to label the
recommended tags as ‚Äúrelevant‚Äù or ‚Äúirrelevant‚Äù. We use pre-
cision as the performance evaluation measure. The average
precisions with diÔ¨Äerent depths are illustrated in Table 1.
From the table we can see that our tag recommendation
results are surprisingly good. The precision is even higher
than that of the tags provided by Flickr user (the precisions
of the original tags and recommended tags are 0.4980 and
0.5772, respectively). Fig. 16 illustrates some sample images
and their recommended tags.

4.3 Group Recommendation

Groups in Flickr are self-organized communities with com-
mon interests. Users can add their images to suitable groups
such that they can be more easily accessed. The group infor-
mation is thus useful for users to share and browse images.
However, nowadays there are a large number of groups in
Flickr and it is not easy for general users to Ô¨Ånd a suitable
group for his photos. Therefore, a group recommendation
service is highly desired.

We propose a group recommendation approach based on
the tag ranking. Since groups are usually titled and de-
scribed with words corresponding to the image content in
its image pool, we can use the top tags of an image as query
keywords to search for its potentially suitable groups. Since

Figure 14: The top results of query ‚Äúbird‚Äù using our
image ranking strategy.

 

G
C
D
N
e
g
a
r
e
v
A

1

0.9

0.8

0.7

0.6

0.5

0.4

1

Our Method
original tag position‚àíbased ranking
interestingness‚àíbased ranking
uploaded time‚àíbased ranking

3

5

10

15

20

25

30

NDCG Depth

Figure 15: N DCG comparison with varied depths
using diÔ¨Äerent ranking methods for tag-based image
search.

interestingness-based ranking; (2) uploading time-based rank-
ing; and (3) original tag position-based ranking. The Ô¨Årst
two methods are both the services provided by Flickr web-
site, which generate image ranking lists based on their in-
terestingness and uploading time records, respectively.
In
the third method, we use Eq. 17 to generate ranking score
with the original tag lists, i.e., do not perform tag ranking.
Fig. 14 illustrates the Ô¨Årst 12 results of query ‚Äúbird‚Äù using
our method. We can compare it with Fig. 3 which illus-
trates the top results obtained using interestingness-based
ranking, and we can clearly see that our top results are more
relevant. The average N DCG results with diÔ¨Äerent depths
are illustrated in Fig. 15, and the results demonstrate that
our method can achieve better search performance, in terms
of relevance ranking with respect to the query tag.

4.2 Tag Recommendation

Based on the tag ranking results, we propose a content-
based tag recommendation method. As stated in section
5, current tag recommendation approaches can be catego-
rized into automatic and semi-automatic approaches. Our
method is one of the automatic approaches and the recom-
mendation process does not require users to provide initial
tags. The proposed method is as follows. Given an image,

bird nature wildlife black flight action

Recommended Groups

Tags
bird: Birds and Wildlife UK | Birds Photos | British Birds
nature: Nature's Beauty | The World of Nature | Arizona Nature
wildlife: we love wildlife | California Wildlife | The Wildlife Photography

Figure 17: An example for group recommendation.
Based on the tag ranking results, we use the Ô¨Årst
three tags of the given image, i.e., bird, nature and
wildlife to search for suitable groups, and we can
Ô¨Ånd a series of possible groups.

the top tags in the ranked tag list are the keywords that
can best describe the visual content of the query image, the
group will be found with high probability. Fig. 17 shows a
typical image and its group recommendation results. The
top three tags in the ranked tag list are used as keywords
to Ô¨Ånd the groups which contain these tags. After recom-
mending the potential groups, users can select the preferred
groups from the recommended ones.

e
g
a
m

i
 

h
c
a
e
 
r
o
f
 
s
p
u
o
r
g
 
t
n
a
v
e
l
e
r
 
f
o
 
r
e
b
m
u
n
 
e
v
A

7

6

5

4

3

100

90

80

70

60

50

)

%
(
n
o
i
s
i
c
e
r
P

2
1

2

3
n

(a)

4

5

40
1

2

4

5

3
n

(b)

Figure 18: Performance of group recommendation
with diÔ¨Äerent n. (a) illustrates the average numbers
of relevant recommended groups and (b) illustrates
the recommendation precisions.

To objectively evaluate the performance of group recom-
mendation, we randomly select 50 images from our Flickr
collection. For each image, we use the top n tags in the
tag ranking list to search for groups. The top three groups
in each search result are collected4 and thus we obtain 3n
recommended groups in total. The recommended groups for
each image are then manually labeled as ‚Äúrelevant‚Äù or ‚Äúirrel-
evant‚Äù according to whether the image can be categorized
into the groups for evaluation purpose. We calculate group
recommendation precision for each image and average them

4Currently Flickr supports four text-based group search
strategies, including ‚Äúordering by most relevant‚Äù, ‚Äúordering
by most recent activity‚Äù, ‚Äúordering by group size‚Äù and ‚Äúor-
dering by date created‚Äù. We adopted the Ô¨Årst strategy.

as Ô¨Ånal evaluation measure. n varies from 1 to 5, and Fig. 18
illustrates the average results. Fig. 18(a) shows the average
number of relevant groups for an image and (b) illustrates
the recommendation precision, i.e., the percentage of rele-
vant ones in the recommended groups. From the Ô¨Ågure we
can see that the number of relevant groups keeps increasing
when n increases, but the recommendation precision actu-
ally decreases. This can be easily understood, since using
more tags can always Ô¨Ånd more groups and there will be
more relevant ones, but the group recommendation preci-
sion will be worse than only using one or two most relevant
tags. If we only use the top tag for search, we can see that
the recommended groups will nearly be all relevant, and this
demonstrates the eÔ¨Äectiveness of our approach. In practical
application, we can establish n by compromising the number
of recommended groups and the recommendation precision
or providing several options for user customization.

5. RELATED WORK

The tags that describe the content of images can help
users easily manage and access large-scale image reposito-
ries. With these metadata, the manipulations of image data
can be easier to be accomplished, such as browsing, indexing
and retrieval. Extensive research eÔ¨Äorts have been dedicated
to automatically annotating images with a set of tags [6, 7,
8, 9]. These methods usually require a labeled training set
and then learn models with these data based on low-level fea-
tures, and then new unlabeled images can thus be annotated
using these models. Although a lot of encouraging results
have been reported, the performance of these approaches
are still far from satisfactory for practical large-scale appli-
cation due to the semantic gap between tags and low-level
features. Manual tagging that allows users to provide image
tags by themselves is an alternative approach. It of courses
adds users‚Äô labor costs in comparison with automatic tag-
ging, but it will provide more accurate tags. Manual tagging
has widely been adopted in image and video sharing web-
sites such as Flickr and Youtube, and the popularity of these
websites has demonstrated its rationality. However, as in-
troduced in Section 1, the user provided tags are orderless
and this signiÔ¨Åcantly limits their applications. Asking users
to manually order the tags is obviously infeasible since it
will add much more labor costs for users. This diÔ¨Éculty
motivates our work. To the best of our knowledge, this is
the Ô¨Årst work that aims to bring orders to image tags.

Flickr, as the most popular social image sharing web site,
has been intensively studied in recent years, especially on
its tagging characteristic. Ames et al. [2] have explored the
motivation of tagging in Flickr website and they claim that
most users tag images to make them better accessible to
the general public. Sigurbj¬®ornsson et al. [10] have provided
the insights on how users tag their photos and what type
of tags they are providing. They conclude that users al-
ways tag their photos with more than one tag and these
tags span a broad spectrum of the semantic space. Kennedy
et al. [3] have evaluated the performance of the classiÔ¨Åers
trained with Flickr images and associated tags and demon-
strate that tags provided by Flickr users actually contain
many noises. Li et al. [11] have proposed to learn tag rel-
evance to boost tag-based social image retrieval. Yan et
al. [12] have proposed a model that can predict the time
cost of manual image tagging. DiÔ¨Äerent tag recommenda-
tion methods have been proposed that aim to help users tag

images more eÔ¨Éciently [10, 13, 14]. The existing tag rec-
ommendation methods can be categorized into automatic
and semi-automatic approaches. Semi-automatic tag rec-
ommendation requires users to provide one or several tags
Ô¨Årstly and then conduct the recommendation accordingly.
The methods proposed by Sigurbj¬®ornsson et al. [10] and
Wu et al. [13] belong to this category. Automatic recom-
mendation is usually accomplished by exploiting the image
content. Chen et al. [14] proposed an automatic tag recom-
mendation approach that directly predicts the possible tags
with models learned from training data. This method thus
can only recommend the tags from a predeÔ¨Åned set. Our
proposed tag recommendation method belongs to the auto-
matic category, but it does not need models of tags and can
avoid the diÔ¨Éculty in [14]. Chen et al. [14] also proposed
to use the predicted tags to search for groups as recommen-
dation groups for the given image, but this method heavily
relies on the performance of tag prediction. In our proposed
group recommendation method, we use the most relevant
tags from those provided by users for group search and the
performance can thus be better guaranteed.

6. CONCLUSIONS

In this paper, we have shown that the tags associated
with Flickr images are almost orderless, which limits the
eÔ¨Äectiveness of the tags in many related applications. We
thus propose an approach to rank the tags for each image
according to their relevance levels. Our experimental results
demonstrate that the proposed method can order the tags
according to their relevance levels. We then propose three
application scenarios which can beneÔ¨Åt from tag ranking,
including tag-based search, tag recommendation and group
recommendation. Encouraging results are reported, which
demonstrates the eÔ¨Äectiveness of the proposed tag ranking
approach.

It is worth noting that although we have only used Flickr
data in this work, the proposed tag ranking method is a
general approach and can be applied for other data sources
(e.g., Youtube for video tag ranking). We believe this work
can provide new facilities and opportunities for social media
tagging services.

7. REFERENCES

[1] Flickr. http://www.Ô¨Çickr.com.
[2] M. Ames and M. Naaman. Why We Tag: Motivations

for Annotation in Mobile and Online Media. In
Proceeding of the SIGCHI Conference on Human
Factors in Computing System, 2007.

[3] L. S. Kennedy, S. F. Chang, and I. V. Kozintsev. To
Search or To Label? Precdicting the Performance of
Search-Based Automatic Image ClassiÔ¨Åers. In
Proceedings of the 8th ACM International Workshop
on Multimedia Information Retrieval, 2006.

[4] M. S. Lew, N. Sebe, C. Djeraba, and R. Jain.

Content-based Multimedia Information Retrieval:
State of the Art and Challenges. In ACM Transactions
on Multimedia Computing, Communications and
Applications, 2006.

[5] A. W. M. Smeulders, M. Worring, S. Santini,

A. Gupta and R. Jain. Content based Image Retrieval
At the End of the Early Years. In IEEE Transactions
on Pattern Analysis and Machine Intelligence, 2000.

[6] J. Li and J. Z. Wang. Real-Time Computerized

Annotation of Pictures. In IEEE Transactions on
Pattern Analysis and Machine Intelligence, 2008.

[7] F. Monay and D. G. Perez. On Image Auto-annotation

with Latent Space Modeling. In Proceeding of 10th
ACM International Conference on Multimedia, 2003.
[8] G. Sychay, E. Y. Chang and K. Goh. EÔ¨Äective Image

Annotation via Active Learning. In IEEE
International Conference on Multimedia and Expo,
2002.

[9] R. Shi, C. H. Lee and T. S. Chua. Enhancing Image

Annotation by Integrating Concept Ontology and
Text-based Bayesian Learning Model. In Proceeding of
14th ACM International Conference on Multimedia,
2007.

[10] B. Sigurbj¬®ornsson and R. V. Zwol. Flickr Tag

Recommendation based on Collective Knowledge. In
Proceeding of ACM International World Wide Web
Conference, 2008.

[11] X. R. Li, C. G. M. Snoek and M. Worring. Learning
Tag Relevance by Neighbor Voting for Social Image
Retrieval. In Proceedings of the ACM International
Conference on Multimedia Information Retrieval,
2008.

[12] R. Yan, A. Natsev and M. Campbell. A

Learning-based Hybrid Tagging and Browsing
Approach for EÔ¨Écient Manual Image Annotation. In
Proceeding of IEEE Conference on Computer Vision
and Pattern Recognition, 2008.

[13] L. Wu, L. J. Yang, N. H. Yu and X. S. Hua. Learning

to Tag. In Proceeding of ACM International World
Wide Web Conference, 2009.

[14] H. M. Chen, M. H. Chang, P. C. Chang, M. C. Tien,
W. H. Hsu and J. L. Wu. SheepDog-Group and Tag
Recommendation for Flickr Photos by Automatic
Search-based Learning. In Proceeding of 15th ACM
International Conference on Multimedia, 2008.

[15] E. Parzen. On the Estimation of a Probability Density

Function and the Mode. In Annals of Mathematical
Statistics, 1962.

[16] B. Liu. Web Data Mining: Exploring Hyperlinks,

Contents and Usage Data. Springer, December, 2006.

[17] R. Cilibrasi and P. M. B. Vitanyi. The Google
Similarity Distance. In IEEE Transactions on
Knowledge and Data Engineering, 2007.

[18] W. H. Hsu, L. S. Kennedy and S. F. Chang. Video

Search Reranking through Random Walk over
Document-Level Context Graph. In Proceeding of 14th
ACM International Conference on Multimedia, 2007.

[19] Y. S. Jing and S. Baluja. VisualRank: Applying

PageRank to Large-Scale Image Search. In
Transactions on Pattern Analysis and Machine
Intelligence, 2008.

[20] J. Y. Pan, H. J. Yang, C. Faloutsos and P. Duygulu.
Gcap: Graph-based Automatic Image Captioning. In
International Workshop on Multimedia and Document
Engineering, 2004.

[21] K. Jarvelin and J. Kekalainen. Cumulated Gain-Based
Evaluation of IR Techniques. In ACM Transcations on
Information System, 2002.

WWW 2009 MADRID!Track: Rich Media / Session: Tagging and Clustering360